# Dev Scripts - Решение на Node.js процеси проблем

## Проблем
Next.js с Turbopack създава много Node.js worker процеси които не се убиват автоматично при спиране на сървъра. Това води до:
- Порт 4000 остава зает
- Невъзможност да се рестартира сървъра
- Натрупване на Node процеси

## Решения

### Вариант 1: Използване на .bat файлове (ПРЕПОРЪЧИТЕЛНО)

#### Стартиране на сървър:
```batch
dev-start.bat
```
Този файл автоматично:
1. Убива всички Node процеси
2. Изчаква 2 секунди
3. Стартира dev сървъра на порт 4000

#### Спиране на сървър:
```batch
dev-stop.bat
```
Убива всички Node процеси бързо.

### Вариант 2: npm скриптове

#### Чисто стартиране:
```bash
npm run dev:clean
```
Използва PowerShell скрипт за автоматично чистене.

#### Само убиване на Node процеси:
```bash
npm run kill-node
```

### Вариант 3: Ръчно чистене

Ако нещо се обърка, изпълнете:
```batch

+
```

Или в PowerShell:
```powershell
Stop-Process -Name node -Force
```

## Препоръчан работен процес

1. **Стартиране**: Двоен клик на `dev-start.bat`
2. **Работа**: Правете промени, hot reload работи
3. **Спиране**: Двоен клик на `dev-stop.bat` или Ctrl+C в терминала
4. **Рестартиране**: Отново `dev-start.bat`

## Защо това се случва?

- **Turbopack** (Next.js 16) създава worker процеси за бърза компилация
- **Windows** не убива дете-процесите автоматично
- **Hot Module Replacement (HMR)** също създава допълнителни процеси

## Алтернативи за бъдеще

Ако проблемът продължава:
1. Използвайте **WSL2** (Windows Subsystem for Linux)
2. Или **Docker** за изолирано окружение
3. Или върнете се към стандартния Webpack билдер (по-бавен, но по-малко процеси)
